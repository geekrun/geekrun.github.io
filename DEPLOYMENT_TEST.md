# 🚀 部署后加密功能测试指南

## 完成清单 ✅

恭喜！你的Hugo博客现在已经成功集成了hugo-encryptor加密功能。以下是已完成的配置：

### ✅ 已完成的配置

1. **Hugo模块集成** - 已添加 `github.com/hugomods/encrypt` 模块
2. **配置文件更新** - 在 `hugo.toml` 中添加了加密配置
3. **GitHub Actions更新** - 工作流程现在包含自动加密步骤
4. **示例文章更新** - `private-sample.md` 展示了两种加密方式
5. **构建脚本** - 提供了 `scripts/build-and-encrypt.sh` 本地构建脚本

## 🔧 配置详情

### 默认密码设置
- **默认密码**: `geekrun123`
- **存储方式**: `session`（关闭浏览器后需重新输入）

### 加密方式
1. **默认密码加密**: `{{< encrypt >}}内容{{< /encrypt >}}`
2. **自定义密码加密**: `{{< encrypt "密码" >}}内容{{< /encrypt >}}`

## 🧪 测试步骤

### 步骤1: 推送代码触发部署
```bash
git add .
git commit -m "Add hugo-encryptor encryption feature"
git push origin main
```

### 步骤2: 等待GitHub Actions完成
1. 访问你的仓库的 Actions 页面
2. 查看最新的工作流运行状态
3. 确认所有步骤都成功完成（包括加密步骤）

### 步骤3: 访问部署的网站
1. 打开你的GitHub Pages网站：`https://geekrun.github.io`
2. 导航到示例文章：`/posts/private-sample/`

### 步骤4: 测试加密功能
1. **测试默认密码**：
   - 找到第一个加密区块
   - 输入密码：`geekrun123`
   - 验证内容能正确解密显示

2. **测试自定义密码**：
   - 找到第二个加密区块
   - 输入密码：`secret123`
   - 验证内容能正确解密显示

3. **测试错误密码**：
   - 输入错误密码
   - 验证显示错误提示

4. **测试密码记忆功能**：
   - 刷新页面
   - 验证之前输入的正确密码被记住

## 🔍 验证要点

### 界面检查
- [ ] 加密区块显示现代化的密码输入界面
- [ ] 界面在移动设备上正常显示
- [ ] 密码输入框和解锁按钮工作正常

### 功能检查  
- [ ] 正确密码能解锁内容
- [ ] 错误密码显示错误提示
- [ ] 解锁后内容格式正确（包括代码块、列表等）
- [ ] 密码在会话期间被记住

### 安全检查
- [ ] 页面源码中看不到明文的加密内容
- [ ] 不同密码的内容相互独立
- [ ] 关闭浏览器后需要重新输入密码

## 🛠️ 故障排除

### 如果GitHub Actions失败
1. 检查 Go 安装步骤
2. 验证模块导入配置
3. 查看具体错误日志

### 如果加密不工作
1. 确认Hugo模块正确导入
2. 检查shortcode语法
3. 验证加密工具是否正确安装

### 如果界面显示异常
1. 检查CSS/JS资源加载
2. 验证主题兼容性
3. 查看浏览器控制台错误

## 📝 下一步

### 创建你自己的加密内容
1. 编辑现有文章或创建新文章
2. 使用 `{{< encrypt >}}` 或 `{{< encrypt "密码" >}}` 包围需要加密的内容
3. 推送到GitHub触发自动部署

### 自定义配置
1. 修改 `hugo.toml` 中的默认密码
2. 调整存储方式（session/local）
3. 根据需要自定义界面样式

## 🎉 完成！

你的Hugo博客现在具备了强大的内容加密功能！可以安全地分享私人内容，同时保持博客的SEO友好性。

---

*如有问题，请参考 `ENCRYPTION_USAGE.md` 获取详细使用说明。*
